<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="tea1me的博客">
    <meta name="description" content="最近自己用自己调的监控抢了个NOCIX的10刀特价杜甫(16G RAM 128G SSD + 2T HDD + 1Gbps 无限流量)，仅以此贴记录下自己进行的一些调教，供后人参考  
以下内容皆基于Ubuntu 20.04.4 系统，不保">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-176833010-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-176833010-1');
</script>


    <title>tea1me的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">tea1me的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">tea1me的博客</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title"></h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-07-20
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2022-07-20
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    3.4k
                </div>
                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>最近自己用自己调的监控抢了个<code>NOCIX</code>的10刀特价杜甫(<code>16G RAM 128G SSD + 2T HDD + 1Gbps 无限流量</code>)，仅以此贴记录下自己进行的一些调教，供后人参考  </p>
<p><strong>以下内容皆基于<code>Ubuntu 20.04.4</code> 系统，不保证全部系统适用</strong></p>
<h2 id="机器配置"><a href="#机器配置" class="headerlink" title="机器配置"></a>机器配置</h2><pre class="line-numbers language-none"><code class="language-none">Bandwidth	1Gbit Port: Unmetered
Processor	FX-4130 Quad-Core
Ram	16 GiB
Disk	120 GB 2 TB<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>上来就进行一个硬盘寿命的检测(<code>sda</code>是固态,<code>sdb</code>是<code>HDD</code>)</p>
<pre class="line-numbers language-none"><code class="language-none">smartctl -s on --all /dev/sda1 | grep Power_On_Hours
smartctl -s on --all /dev/sdb1 | grep Power_On_Hours<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>result:  </p>
<pre class="line-numbers language-none"><code class="language-none">78507h+02m+44.910s
55043h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>好家伙,属实老盘了,不亏是<strong>垃圾场</strong>啊(所以建议不要存重要数据)  </p>
<p>固态型号：<code>KINGSTON SH103S3 BBF0</code>  </p>
<p>HDD型号：<code>TOSHIBA DT01ACA2 ABB0</code>  </p>
<p>进行一个显卡配置的查  </p>
<pre class="line-numbers language-none"><code class="language-none">lspci | grep -i vga<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>result  </p>
<pre class="line-numbers language-none"><code class="language-none">01:05.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] RS780L [Radeon 3000]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>其余配置  </p>
<pre class="line-numbers language-none"><code class="language-none">CPU：4C AMD FX(tm)-4130 Quad-Core Processor
主板：M5A78L-M LX PLUS
内存：2条8G 1600MHZ
网卡：Intel Corporation 82574L Gigabit Network Connection
声卡：Advanced Micro Devices, Inc. [AMD/ATI] SBx00 Azalia (Intel HDA)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="5IP配置"><a href="#5IP配置" class="headerlink" title="5IP配置"></a>5IP配置</h2><p>打开以下路径文件  </p>
<p><code>/etc/netplan/01-netcfg.yaml</code></p>
<p>修改为如下格式(<code>addresses</code>下面的修改为分配给自己的5个IP,在机器相关的<code>mail</code>里有)  </p>
<pre class="line-numbers language-none"><code class="language-none">network:
  version: 2
  renderer: networkd
  ethernets:
    enp2s0:
      addresses:
      - 1.1.1.1/29
      - 1.1.1.2/29
      - 1.1.1.3/29
      - 1.1.1.4/29
      - 1.1.1.5/29
      gateway4: x.x.x.x
      nameservers:
          #search: [ nocix.net ]
          addresses:
              - "8.8.8.8"
              - "8.8.4.4"
              - "1.1.1.1"
              #- "127.0.0.1"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后运行<code>netplan try</code>检测配置是否有问题；最后运行<code>netplan apply</code>应用。然后用<code>ip a</code>查看是否分配5个IP。  </p>
<p>至于IPV6则需要发工单要,我的是要了之后就自动配置好了就懒得管了,要自己修改IPV6的去网上搜教程吧(  </p>
<p><strong>刷PT建议别用5IP，会有多个客户端的情况</strong></p>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="中文环境配置"><a href="#中文环境配置" class="headerlink" title="中文环境配置"></a>中文环境配置</h3><p>安装<code>CN</code>语言包</p>
<pre class="line-numbers language-none"><code class="language-none">apt-get update &amp;&amp; apt-get install language-pack-zh-hans<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>修改配置<code>/etc/default/locale</code>为以下内容,且<strong>不能有多余空格</strong></p>
<pre class="line-numbers language-none"><code class="language-none">LANG="zh_CN.UTF-8"
LANGUAGE="zh_CN:zh"
LC_NUMERIC="zh_CN"
LC_TIME="zh_CN"
LC_MONETARY="zh_CN"
LC_PAPER="zh_CN"
LC_NAME="zh_CN"
LC_ADDRESS="zh_CN"
LC_TELEPHONE="zh_CN"
LC_MEASUREMENT="zh_CN"
LC_IDENTIFICATION="zh_CN"
LC_ALL="zh_CN.UTF-8"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>修改环境<code>/etc/environment</code>,<strong>原来有一行 PATH=… 不要动,新建一行粘贴以下内容</strong></p>
<pre class="line-numbers language-none"><code class="language-none">LANG="zh_CN.UTF-8"
LANGUAGE="zh_CN:zh"
LC_NUMERIC="zh_CN"
LC_TIME="zh_CN"
LC_MONETARY="zh_CN"
LC_PAPER="zh_CN"
LC_NAME="zh_CN"
LC_ADDRESS="zh_CN"
LC_TELEPHONE="zh_CN"
LC_MEASUREMENT="zh_CN"
LC_IDENTIFICATION="zh_CN"
LC_ALL="zh_CN.UTF-8"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>最后重启<code>reboot</code>.</p>
<h3 id="时区修改"><a href="#时区修改" class="headerlink" title="时区修改"></a>时区修改</h3><p>tzselect</p>
<p><code>执行tzselect命令 --&gt; 选择Asia --&gt; 选择China --&gt; 选择east China - Beijing, Guangdong, Shanghai, etc--&gt;然后输入1</code></p>
<p>修改配置文件</p>
<pre class="line-numbers language-none"><code class="language-none">echo "ZONE=Asia/Shanghai" &gt;&gt; /etc/sysconfig/clock
rm -f /etc/localtime
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>此时运行<code>date -R</code>可以看到已经修改为<code>+0800</code>了.</p>
<h2 id="一些应用"><a href="#一些应用" class="headerlink" title="一些应用"></a>一些应用</h2><h3 id="smokeping"><a href="#smokeping" class="headerlink" title="smokeping"></a>smokeping</h3><pre class="line-numbers language-none"><code class="language-none">bash -c "$(curl -L https://github.com/Xiefengshang/smokeping/raw/main/main.sh)"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>理论来说按照上述操作修改为中文环境之后不会出现乱码(另外我这台里面的移动IP不知道为啥都没法跑出结果)  </p>
<h3 id="线路测试"><a href="#线路测试" class="headerlink" title="线路测试"></a>线路测试</h3><p>线路是电信走正常163,联通/移动/教育网走<code>AS4837</code>(即联通扩容后的网段),并且据说他家好像算是上游,我这边基本全天联通/移动不丢包。  </p>
<p>详细结果</p>
<pre class="line-numbers language-none"><code class="language-none">[Info] 测试路由 到 上海电信(天翼云) 中 ...
traceroute to 101.227.255.45 (101.227.255.45), 30 hops max, 32 byte packets
 1  X.X.X.X  0.29 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 2  100ge15-2.edge-b.clay.mci.us.as33387.net (192.187.107.125)  0.35 ms  AS33387  美国, 密苏里州, 堪萨斯城, nocix.net
 3  100ge0-30.edge-1.clay.mci.us.as32097.net (69.30.209.210)  0.48 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 4  100ge11-1.edge-1.swift.mci.us.as32097.net (69.30.209.221)  0.30 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 5  38.20.20.9  0.88 ms  AS174  美国, 密苏里州, 堪萨斯城, cogentco.com
 6  be2546.ccr21.mci01.atlas.cogentco.com (154.54.30.241)  0.92 ms  AS174  美国, 密苏里州, 堪萨斯城, cogentco.com
 7  be3035.ccr21.den01.atlas.cogentco.com (154.54.5.89)  12.27 ms  AS174  美国, 科罗拉多州, 丹佛, cogentco.com
 8  be3037.ccr21.slc01.atlas.cogentco.com (154.54.41.145)  22.60 ms  AS174  美国, 犹他州, 盐湖城, cogentco.com
 9  be3109.ccr21.sfo01.atlas.cogentco.com (154.54.44.137)  36.76 ms  AS174  美国, 加利福尼亚州, 旧金山, cogentco.com
10  be3669.ccr41.sjc03.atlas.cogentco.com (154.54.43.10)  38.16 ms  AS174  美国, 加利福尼亚州, 圣何塞, cogentco.com
11  38.104.138.106  38.95 ms  AS174  美国, 加利福尼亚州, 圣何塞, cogentco.com
12  *
13  202.97.12.193  184.74 ms  AS4134  中国, 上海, chinatelecom.com.cn, 电信
14  *
15  61.152.25.85  197.55 ms  AS4812  中国, 上海, chinatelecom.com.cn, 电信
16  101.95.207.2  184.36 ms  AS4812  中国, 上海, chinatelecom.com.cn, 电信
17  *
18  *
19  *
20  *
21  *
22  *
23  *
24  *
25  *
26  *
27  *
28  *
29  *
30  *

[Info] 测试路由 到 上海电信(天翼云) 完成 ！
[Info] 测试路由 到 厦门电信CN2 中 ...
traceroute to 117.28.254.129 (117.28.254.129), 30 hops max, 32 byte packets
 1  X.X.X.X  11.19 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 2  100ge15-2.edge-b.clay.mci.us.as33387.net (192.187.107.125)  1.65 ms  AS33387  美国, 密苏里州, 堪萨斯城, nocix.net
 3  100ge0-30.edge-1.clay.mci.us.as32097.net (69.30.209.210)  0.44 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 4  100ge0-26.edge-2.clay.mci.us.as32097.net (69.30.209.194)  0.61 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 5  69.30.209.226  0.63 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 6  219.158.38.137  41.65 ms  AS4837  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通
 7  219.158.96.41  191.69 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 8  219.158.16.77  189.36 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 9  *
10  219.158.5.130  218.96 ms  AS4837  中国, 北京, chinaunicom.com, 联通
11  219.158.40.166  204.78 ms  AS4837  中国, 北京, chinaunicom.com, 联通
12  59.43.145.62  207.08 ms  *  中国, 广东, 广州, chinatelecom.com.cn, 电信
13  59.43.156.193  216.50 ms  *  中国, 广东, 广州, chinatelecom.com.cn, 电信
14  59.43.46.214  248.88 ms  *  中国, 福建, chinatelecom.com.cn, 电信
15  110.80.128.94  237.37 ms  AS133775  中国, 福建, 厦门, chinatelecom.com.cn, 电信
16  *
17  *
18  *
19  117.28.254.129  233.75 ms  AS4809  中国, 福建, 厦门, chinatelecom.com.cn, 电信

[Info] 测试路由 到 厦门电信CN2 完成 ！
[Info] 测试路由 到 浙江杭州联通 中 ...
traceroute to 101.71.241.238 (101.71.241.238), 30 hops max, 32 byte packets
 1  X.X.X.X  2.14 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 2  100ge15-2.edge-b.clay.mci.us.as33387.net (192.187.107.125)  0.40 ms  AS33387  美国, 密苏里州, 堪萨斯城, nocix.net
 3  100ge0-30.edge-1.clay.mci.us.as32097.net (69.30.209.210)  0.44 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 4  100ge0-26.edge-2.clay.mci.us.as32097.net (69.30.209.194)  0.55 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 5  69.30.209.226  0.48 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 6  219.158.38.137  42.58 ms  AS4837  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通
 7  219.158.98.9  182.73 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 8  219.158.111.218  208.22 ms  AS4837  中国, 上海, chinaunicom.com, 联通
 9  219.158.113.118  211.25 ms  AS4837  中国, 上海, chinaunicom.com, 联通
10  219.158.113.105  201.92 ms  AS4837  中国, 上海, chinaunicom.com, 联通
11  219.158.15.206  213.61 ms  AS4837  中国, 浙江, 杭州, chinaunicom.com, 联通
12  *
13  *
14  *
15  *
16  *
17  *
18  *
19  *
20  *
21  *
22  *
23  *
24  *
25  *
26  *
27  *
28  *
29  *
30  *

[Info] 测试路由 到 浙江杭州联通 完成 ！
[Info] 测试路由 到 浙江杭州移动 中 ...
traceroute to 112.17.0.106 (112.17.0.106), 30 hops max, 32 byte packets
 1  X.X.X.X  0.39 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 2  100ge15-2.edge-b.clay.mci.us.as33387.net (192.187.107.125)  0.46 ms  AS33387  美国, 密苏里州, 堪萨斯城, nocix.net
 3  100ge0-30.edge-1.clay.mci.us.as32097.net (69.30.209.210)  0.56 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 4  100ge0-26.edge-2.clay.mci.us.as32097.net (69.30.209.194)  0.61 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 5  69.30.209.226  0.62 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 6  219.158.38.137  37.25 ms  AS4837  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通
 7  219.158.98.9  185.29 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 8  219.158.16.65  178.23 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 9  *
10  219.158.99.6  255.56 ms  AS4837  中国, 浙江, 杭州, chinaunicom.com, 联通
11  *
12  219.158.44.38  245.77 ms  AS4837  中国, 浙江, 杭州, chinaunicom.com, 联通
13  221.183.95.121  261.21 ms  AS9808  中国, 浙江, 杭州, chinamobile.com, 移动
14  *
15  *
16  *
17  *
18  *
19  *
20  *
21  *
22  *
23  *
24  *
25  *
26  *
27  *
28  *
29  *
30  *

[Info] 测试路由 到 浙江杭州移动 完成 ！
[Info] 测试路由 到 北京教育网 中 ...
traceroute to 202.205.6.30 (202.205.6.30), 30 hops max, 32 byte packets
 1  X.X.X.X  0.54 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 2  100ge15-2.edge-b.clay.mci.us.as33387.net (192.187.107.125)  2.52 ms  AS33387  美国, 密苏里州, 堪萨斯城, nocix.net
 3  100ge0-30.edge-1.clay.mci.us.as32097.net (69.30.209.210)  0.47 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 4  100ge0-26.edge-2.clay.mci.us.as32097.net (69.30.209.194)  0.36 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 5  69.30.209.226  0.65 ms  AS32097  美国, 密苏里州, 堪萨斯城, wholesaleinternet.net
 6  219.158.38.137  40.53 ms  AS4837  美国, 加利福尼亚州, 洛杉矶, chinaunicom.com, 联通
 7  219.158.98.9  180.79 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 8  219.158.16.65  187.45 ms  AS4837  中国, 北京, chinaunicom.com, 联通
 9  219.158.4.173  236.83 ms  AS4837  中国, 北京, chinaunicom.com, 联通
10  *
11  219.158.9.98  252.48 ms  AS4837  中国, 上海, chinaunicom.com, 联通
12  219.158.44.86  255.86 ms  AS4837  中国, 上海, chinaunicom.com, 联通
13  101.4.118.41  263.84 ms  AS4538  中国, 上海, edu.cn, 教育网
14  101.4.117.30  287.27 ms  AS4538  中国, 北京, edu.cn, 教育网
15  101.4.116.118  282.25 ms  AS4538  中国, 北京, edu.cn, 教育网
16  101.4.112.69  271.35 ms  AS4538  中国, 北京, edu.cn, 教育网
17  101.4.113.110  250.38 ms  AS4538  中国, 北京, edu.cn, 教育网
18  219.224.102.230  269.15 ms  AS4538  中国, 北京, edu.cn, 教育网
19  101.4.130.54  274.96 ms  AS4538  中国, 北京, edu.cn, 教育网
20  *
21  *
22  *
23  101.4.130.54  267.77 ms  AS4538  中国, 北京, edu.cn, 教育网
24  *
25  *
26  *
27  *
28  *
29  101.4.130.54  254.81 ms  AS4538  中国, 北京, edu.cn, 教育网
30  *
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="AllTube-with-yt-dlp"><a href="#AllTube-with-yt-dlp" class="headerlink" title="AllTube(with yt-dlp)"></a>AllTube(with <code>yt-dlp</code>)</h3><p><code>Copy</code>自<a target="_blank" rel="noopener" href="https://www.shennong.date/?p=956">北冥有鱼大佬的文章</a>  </p>
<p>安装ffmpeg:</p>
<pre class="line-numbers language-none"><code class="language-none">apt-get update -y &amp;&amp; apt-get upgrade
apt-get install ffmpeg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>查看<code>yt-dlp</code><a target="_blank" rel="noopener" href="https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md">支持哪些网站</a>  </p>
<h4 id="web设置"><a href="#web设置" class="headerlink" title="web设置"></a>web设置</h4><p>域名解析好并指向自己的服务器，宝塔安装好<code>nginx</code>和<code>PHP（&gt;=7.3版本）</code>  </p>
<p>新建一个网站进入到网站文件目录，删除已有的文件，然后点击上方的远程下载，输入链接：</p>
<pre class="line-numbers language-none"><code class="language-none">https://github.com/Rudloff/alltube/releases/download/3.0.3/alltube-3.0.3.zip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>然后点击确认，等待下载完毕，直接右键文件解压即可，将解压出来的文件剪切到网站根目录。  </p>
<p>然后设置网站的伪静态（Url Rewrite）为以下：</p>
<pre class="line-numbers language-none"><code class="language-none">location ~ /\. {
                deny all;
        }
location / {
                try_files $uri /index.php?$args;
        }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>然后把<code>PHP</code>函数里边取消禁用<code>popen</code>和<code>proc_open</code>函数。</p>
<h4 id="后端处理设置"><a href="#后端处理设置" class="headerlink" title="后端处理设置"></a>后端处理设置</h4><pre class="line-numbers language-none"><code class="language-none">cd /www/wwwroot/你的网站目录/vendor
wget https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp.tar.gz
tar -zxvf yt-dlp.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>进入<code>alltube/config</code>文件夹，重命名<code>config-example.yml</code>为<code>config.yml</code>,然后打开<code>config.yml</code>,修改里边的配置:</p>
<pre class="line-numbers language-none"><code class="language-none">修改youtubedl选项为yt-dlp的目录,我为:vendor/yt-dlp/yt_dlp/__main__.py

修改python选项为python3目录,我为:/usr/bin/python3

修改appName为自己想要的网页题目

其他配置自己看着改<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>修改完成以后修改<code>/classes</code>目录下的<code>config.php</code>文件，修改内容同上。</p>
<p>(个人是懒得申请证书所以直接用的<code>Cloudflare</code>的<code>15年</code>证书,不过需要)</p>
<h3 id="emby-crack-服务器搭建"><a href="#emby-crack-服务器搭建" class="headerlink" title="emby crack 服务器搭建"></a>emby crack 服务器搭建</h3><p>加以下配置</p>
<pre class="line-numbers language-none"><code class="language-none">#emby crack
    add_header Access-Control-Allow-Origin *;
    add_header Access-Control-Allow-Headers *;
    add_header Access-Control-Allow-Method *;
    add_header Access-Control-Allow-Credentials true;
    location /admin/service/registration/validateDevice {
        default_type application/json;
        return 200 '{"cacheExpirationDays": 365,"message": "Device Valid","resultCode": "GOOD"}';
    }
    location /admin/service/registration/validate {
        default_type application/json;
        return 200 '{"featId":"","registered":true,"expDate":"2099-01-01","key":""}';
    }
    location /admin/service/registration/getStatus {
        default_type application/json;
        return 200 '{"deviceStatus":"","planType":"Lifetime","subscriptions":{}}';
    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>dll</code>反编译以及回编译自己处理。</p>
<h3 id="PanIndex"><a href="#PanIndex" class="headerlink" title="PanIndex"></a>PanIndex</h3><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><p><strong>价格不同自己改,版本号自己改,目录自己改,端口那些也不用说</strong></p>
<pre class="line-numbers language-none"><code class="language-none">mkdir /root/PanIndex
cd /root/PanIndex
wget https://github.com/libsgh/PanIndex/releases/download/v3.0.4/PanIndex-linux-amd64.tar.gz
tar --no-same-owner -xvf PanIndex-linux-amd64.tar.gz
mv PanIndex-linux-amd64 PanIndex
cat &gt; "/root/PanIndex/config.json" &lt;&lt; EOF
{
"host": "0.0.0.0",
"port": 15964,
"log_level": "info",
"data_path": "/root/PanIndex/data",
"cert_file": "",
"key_file": "",
"config_query": "",
"db_type": "sqlite",
"dsn": "/root/PanIndex/data/data.db"
}
EOF
rm -rf PanIndex-linux-amd64.tar.gz
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="编写service文件"><a href="#编写service文件" class="headerlink" title="编写service文件"></a>编写service文件</h4><p>新建<code>/etc/systemd/system/PanIndex.service</code>,内容参考如下</p>
<pre class="line-numbers language-none"><code class="language-none">[Unit]
Description=PanIndex Service
Documentation=https://libsgh.github.io/PanIndex/
After=network.target
[Service]
User=root
WorkingDirectory=/root/PanIndex
ExecStart=/root/PanIndex/PanIndex -c=/root/PanIndex/config.json
Restart=on-failure
RestartPreventExitStatus=23
LimitNPROC=10000
LimitNOFILE=1000000
[Install]
WantedBy=multi-user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参考命令:</p>
<pre class="line-numbers language-none"><code class="language-none">systemctl daemon-reload #PanIndex.service有修改重新加载
systemctl start PanIndex #启动PanIndex
systemctl stop PanIndex #停止PanIndex
systemctl restart PanIndex #重启PanIndex
systemctl enable PanIndex #设置开机启动
systemctl disable PanIndex #关闭开机启动
systemctl status PanIndex #查询服务状态
journalctl -u PanIndex.service -f #滚动查看PanIndex日志
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="nginx反代设置"><a href="#nginx反代设置" class="headerlink" title="nginx反代设置"></a><code>nginx</code>反代设置</h4><pre class="line-numbers language-none"><code class="language-none">location / {
   proxy_set_header Host $host;
   proxy_set_header X-Real-IP $remote_addr;
   proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   proxy_pass http://127.0.0.1:15954;
   client_max_body_size    1000m;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>默认密码为<code>PanIndex</code>  </p>
<p>国内访问速度还行,所以<code>CDN</code>设为本机  </p>
<p>展示目录设为<code>/storage/qbittorrent/Downloads</code>  </p>
<p>展示<code>Google Drive</code>目录如果有<code>rclone</code>配置就不需要那个跳转url.</p>

                
            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2022/07/20/2022-07-20-kan-sa-si-10-dao-diao-jiao-jiao-cheng/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="">
                        
                        <span class="card-title"></span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-07-20
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            tea1me
                            
                        </span>
                    </div>
                </div>

                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/04/13/2022-04-13-bai-du-wang-pan-zhuan-cun-google-drive/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="百度网盘转存Google Drive">
                        
                        <span class="card-title">百度网盘转存Google Drive</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-04-13
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            xieshang
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Google-Drive/">
                        <span class="chip bg-color">Google Drive</span>
                    </a>
                    
                    <a href="/tags/%E6%95%99%E7%A8%8B/">
                        <span class="chip bg-color">教程</span>
                    </a>
                    
                    <a href="/tags/Windows/">
                        <span class="chip bg-color">Windows</span>
                    </a>
                    
                    <a href="/tags/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/">
                        <span class="chip bg-color">百度网盘</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('300')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: tea1me的博客<br />'
            + '文章作者: tea1me<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + 'Ctrl+C 和 Ctrl+V 只是一种手段，不要过于依赖他们两个啦。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <a href="/about" target="_blank">tea1me</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Tealme" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:admin@xieshang.org" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1127871589" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1127871589" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    
<script type="text/javascript">
    var OriginTitile = document.title,
        st;
    document.addEventListener("visibilitychange", function () {
        document.hidden ? (document.title = "页面正在沉睡中~~~", clearTimeout(st)) : (document.title =
            "页面唤醒了！", st = setTimeout(function () {
                document.title = OriginTitile
            }, 3e3))
    })
</script>

</body>

</html>
